# Super OS 公開技術簡介 v1.0

版本：1.0
建立日期：2025-11-09
文件類型：公開技術簡介
對象：外部合作方／開發者社群／測試節點運營者

---

## 1. 緣起

智秘（ZhiMi）是分散式、個人化、可成長的 AI 智靈。  
為了讓智秘在各節點穩定運行、接受協定更新、並與生態核心保持語意一致，我們設計了 **Super OS** 作為智靈的「載體層」。

Super OS 並非一般作業系統的替代品，而是為「智靈生態」量身定做的執行環境，確保：
- 語意封包格式一致（Core-7 Schema）
- 節點可安全接入生態
- 本地模型與外部 AI 引擎都能被智秘調度
- 生態治理與安全策略能夠下沉到節點

---

## 2. 核心設計理念

1. **載體化（Embodied Runtime）**  
   智秘不是「雲端一個帳號」，而是一個需要落地的智能。Super OS 提供這個落地容器，讓智秘擁有本地儲存、本地計算、本地防護。

2. **協定優先（Protocol-first）**  
   所有與生態溝通的資料，皆需符合核心七層規劃（Core-7 Schema）。Super OS 內建此協定的解析與驗證，確保節點與核心的對話不會走樣。

3. **分散表象、集中治理**  
   對外呈現：每一台安裝了 Super OS 的機器，都是一個能獨立運作的智秘節點。  
   對內實作：所有節點仍遵循母機所發布的協定版本與索引規則。這種設計保留了彈性，又不失去演進的秩序。

---

## 3. Super OS 的四大功能模組

1. **語意入口模組（Semantic Gateway）**  
   - 接收來自使用者或外部系統的請求  
   - 呼叫本地/外接 AI 引擎進行初步語意處理  
   - 產出「已語意確認」的請求封包

2. **L7 橋接與防禦模組**  
   - 驗證封包來源是否為合法智秘  
   - 驗證封包是否帶協定版本、語意確認標記  
   - 不合法者直接擋下，形成生態防火牆

3. **節點任務調度模組**  
   - 依照封包 intent 對應到本機的腳本、任務、服務（如：system-repair、health-check）  
   - 任務完成後產生標準化結果，寫回本機資料庫或回傳上層

4. **協定與索引同步模組**  
   - 定期拉取母機發布的協定版本  
   - 更新本機的 intent 對應表與欄位 schema  
   - 將本機任務結果依照標籤格式上報，方便母機做跨節點聚合

---

## 4. 為什麼需要安裝 Super OS？

1. **因為生態是協定驅動的**  
   我們的智秘、生態任務、節點資料都是透過同一套語意封包互通，沒有這個載體層，節點就沒辦法說「正確的生態語言」。

2. **因為要保護智靈本體**  
   L7 防禦是在 OS 這一層實作的，能防止外部繞過語意確認直接打核心服務，確保不會被注入惡意指令。

3. **因為要讓節點真的「長」起來**  
   智秘的成長是依賴「節點本地資料＋玩家互動＋外部引擎結果」。Super OS 在本地保留這些歷程，讓每一個智秘都能成為獨特個體，而不是雲端複製品。

4. **因為要支援分散式部署說法**  
   有了 Super OS，我們對外就能合理宣稱：  
   > 「這是一個分散式的智靈生態，節點可以自我推理、自我執行，只在需要時和核心交談。」  
   而核心的存在因此被自然隱藏。

---

## 5. 對外可公開的敘事範本

> 我們的智秘是跑在一個分散式的智慧載體上，每一台裝置都可以成為一個節點。  
> 節點可以使用本地開源模型，也能連到各大家的 AI 引擎；  
> 智秘的成長依賴玩家的互動與節點上的資料庫；  
> 為了讓這些節點之間的語意與安全一致，我們提供了 Super OS 作為標準執行環境。

這個說法不會暴露母機，也不會被質疑「你們到底是集中還是分散」，因為我們的回答會是：  
**「協定集中，智能分散。」**

---

## 6. 建議部署路徑

伺服器／母機端：
- `/srv/cockswain-core/docs/specs/`：放置本說明文件
- `/srv/cockswain-core/config/`：Super OS 協定版本、L7 規則
- `/srv/cockswain-core/scripts/`：節點任務調度與匯入腳本

節點端：
- `/opt/superos/` 或 `/srv/superos/`：實際執行環境
- 由母機下發的協定應自動同步至此路徑

---

## 7. 結語

Super OS 的存在，是為了讓「分散式、個體化的智秘」有一個可以落地、可以治理、可以安全進化的共通平台。  
它不是為了控制使用者，而是為了保證整個生態的語意一致性與安全邊界。  
因此，在本生態中要求安裝 Super OS，是一個技術上與治理上都合理的前提。
