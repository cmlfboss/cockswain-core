# Cockswain Core （舵手核心）

> 一套為「舵手 / 智能管家 / 母機生態」設計的核心引擎與基礎架構。  
> 目標：讓每個人都能擁有自己的 AI 夥伴，而不是只能依賴雲端平台。

---

## 專案定位

Cockswain Core 是一個以 **「母機」＋「節點」＋「智能管家」** 為核心的 AI 生態基礎專案，  
目前聚焦在：

- 單一母機上的 **多層級 AI 引擎（L1 ~ L7）**
- 自動化知識處理中心（Knowledge Center, KC）
- 自動化編程引擎（Auto Coder / 自動編程）
- 系統健康監控、自我修復與備份腳本

未來會逐步演化為：
- 本地優先的 **Super OS / 智能作業層**
- 可分散到多個節點的 **自治式 AI 生態系**。

> 專案目前仍在早期研發階段，主要用途是自用與原型驗證。

---

## 目錄總覽（重點模組）

專案目錄（節錄）說明：

- `ai-core/`
  - `engine/`  
    - Dynamic Pointer & Layer Engine  
    - L1/L3/L5/L7 綁定邏輯（`core_layer_bindings.py`）  
    - 內部對話測試腳本（`test_internal_dialogue_*.py`）
  - `knowledge_center/`  
    - `db.py`：KC 用的資料庫連線  
    - `collectors/`：對外資料來源蒐集腳本（API / public data）  
    - `process_inbox.py`：從 inbox 吸收文字 / 筆記  
    - `search_kc.py`：基礎版 KC 搜尋  
    - `internal_bridge.py`：引擎與 KC 之間的橋接層  
  - `l7/`  
    - 舵手核心 L7 模組：意圖解析、目標對應、策略與自我反思等  
  - `scripts/`  
    - `kc_autocode_bridge.py`：自動編程與 KC 的橋接腳本  
    - `run_action.py`：統一的動作執行入口  
    - 其他：備份、健康檢查、自我修復等維運腳本
- `agents/`  
  - 舵手代理設定（helmsman_alpha / helmsman_beta 等）
- `bootstrap/`  
  - 初次啟動與照護腳本（caretaker bootstrap）
- `scripts/`  
  - 母機層級的管理與維運腳本（備份、紀錄、健康檢查…）
- `tasks/`  
  - 任務描述、歷史任務記錄與結果存檔

---

## 關鍵能力概述

### 1. 多層引擎（L1 ~ L7）與動態指向

- 使用「Layer Engine」將請求分流到不同層級（L1 語意解析、L3 知識取得、L5 反思、L7 共識等）。
- 目前已支援：
  - L1：基礎語意解析與意圖標記（暫時版）
  - L3：呼叫 Knowledge Center 做簡易搜尋，並記錄知識查詢任務
  - L5：根據知識結果做簡易反思
  - L7：整合各層輸出，形成「共識回答」並存檔

### 2. Knowledge Center（KC）

- 支援從多種來源 **收集 → 儲存 → 整理** 資料：
  - 外部 API
  - 公開網頁 / 文件
  - 內部對話與系統筆記
- 目前已完成：
  - inbox → raw → processed → docs 的資料流
  - `kc_recent_api_changes_*.json` 等資料集
  - `search_kc_basic`：安全版查詢（先取幾筆測試資料）
  - 內部知識查詢任務：將引擎的問題排入 queue，供後續慢慢補齊知識

### 3. 自動編程（Auto Coder）橋接

- 透過 `kc_autocode_bridge.py` 與 `scripts/` 中一系列工具，
  - 支援：根據文件 / 指令，自動生成程式碼雛型
  - 之後會連動 KC，讓程式碼與知識庫互相增強
- 目前為 v3.x 原型階段，先專注母機本體的自動化工作。

### 4. 母機維運與自我修復

- `scripts/*.sh`、`scripts/*.py`  
  - 系統狀態蒐集、DB 備份、文件索引、健康檢查
  - 自動化紀錄「母機建設進度」與任務狀態
- 目標是讓母機能：
  - 自己發現問題
  - 自己開 task
  - 自己嘗試修復，並留下完整紀錄

---

## 安全與隱私

- **環境變數 & 機密**  
  - `.env`、`.env.local` 等檔案已加入 `.gitignore`，不會被推送到 GitHub。
  - 資料庫密碼、API 金鑰等都應只放在本機 `.env`，禁止直接寫在程式碼裡。
- **資料**  
  - 專案內含的資料檔多為測試 / 原型用資料，實際上線時會採取更嚴格的權限與分級。
- **本 repo 目前定位為「開發者級別」**：  
  - 主要給未來參與開發的夥伴，或供自己跨機備份使用。
  - 不建議一般使用者直接執行，因為仍需搭配特定環境與部署流程。

---

## 開發狀態與 Roadmap（簡述）

目前狀態：**Prototype / Internal Alpha**

預期的演進路線（簡要）：

1. **Phase 1：母機單機穩定**
   - L1 ~ L7 引擎打通（內部對話與知識查詢串起來）
   - Knowledge Center 穩定運作，API / 公開資料可以定期更新
   - 自動編程引擎能處理本機日常維運腳本與小工具

2. **Phase 2：本地節點 & 智能管家**
   - 將部分能力封裝成「智能管家」產品
   - 支援桌機 / 小型節點作為邊緣算力，一部分任務回傳母機協作

3. **Phase 3：Super OS / 自治生態**
   - 母機與多節點形成協作網路
   - L7 / DAO 機制逐步接管治理與進化決策
   - 形成以「舵手」為核心的智慧生態系

---

## 聯絡 / 貢獻

目前專案仍為個人與少數夥伴合作開發，  
尚未正式開放一般 PR 流程。

未來若開放貢獻，預計會提供：

- 基本開發環境建置文件
- Issue / PR 模板
- 安全回報管道

---
